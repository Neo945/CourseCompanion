{% extends 'base.html' %}
{% load static %}

  {% block title %}<title>CourseCompanion</title>{% endblock title%}
   
  {% block stylesheets %}
    <!-- Favicon -->
    <!-- <link rel="icon" href="assets/img/brand/favicon.png" type="image/png"> -->
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <!-- Icons -->
    <link rel="stylesheet" href="{% static 'css/nucleo.css' %}" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'css/sty.css' %}" type="text/css">
	  <!-- <link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css"> -->
  {% endblock stylesheets %}

{% block content %}
  <!-- Sidenav -->
  <nav class="sidenav navbar navbar-vertical  fixed-left  navbar-expand-xs navbar-light bg-white" id="sidenav-main">
    <div class="scrollbar-inner">
      <!-- Brand -->
      <div class="sidenav-header  align-items-center">
     
        <font color="#525f7f" size = "5"><h>CourseCompanion</h></font>
        
      </div>
      <div class="navbar-inner">
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="sidenav-collapse-main">
          <!-- Nav items -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="dashboard">
                <i class="fa fa-address-card-o" aria-hidden="true"></i>
                <span class="nav-link-text">Dashboard</span>
              </a>
            </li>
           
            <li class="nav-item">
              <a class="nav-link active" href="courses">
                <i class="fa fa-book" aria-hidden="true"></i>
                <span class="nav-link-text">Courses</span>
              </a>
            </li>
            
          </ul>
          
          <hr class="my-3">
        </div>
      </div>
    </div>
  </nav>
  <!-- Main content -->
  <div class="main-content" id="panel">
    <!-- Topnav -->
    <div class="container-fluid mt--6">
    <div>
    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
    </div>
     <div>
    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
    </div>
 <div>
    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
    </div>
 <div>
    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
    </div>
 
    
     <!-- Dark table -->
      <div class="row">
        <div class="col">
          <div class="card bg-default shadow">
            <div class="card-header bg-transparent border-0">
              <h3 class="text-white mb-0">Available Courses</h3>
            </div>
            <div class="table-responsive">
              <table class="table align-items-center table-dark table-flush">
                <thead class="thead-dark">
                  <tr>
                    <th scope="col" class="sort" data-sort="name">Course</th>
                    
                    <th scope="col" class="sort" data-sort="budget">Professor</th>
                   
                    <th scope="col" class="sort" data-sort="completion">Completed?</th>
                   <th scope="col" class="sort" data-sort="completion">Enroll</th>
                  
                 </tr>
                </thead>
                <tbody class="list">
                  
                </tbody>
              </table>
     </div>

  <!-- Argon Scripts -->
  <!-- Core -->
  <script src="{% static 'vendor/jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/js-cookie/js.cookie.js' %}"></script>
  <script src="{% static 'vendor/jquery.scrollbar/jquery.scrollbar.min.js' %}"></script>
  <script src="{% static 'vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js' %}"></script>
  <!-- Optional JS -->
  <script src="{% static 'vendor/chart.js/dist/Chart.min.js' %}"></script>
  <script src="{% static 'vendor/chart.js/dist/Chart.extension.js' %}"></script>
  <!-- Argon JS -->
  <script src="{% static 'js/argon.js' %}"></script>
  <script>
    const loadCourse = () => {
          lookup("http://127.0.0.1:8000/user/enrolled",'GET',null,(response,status)=>{
            var table = document.getElementsByTagName("table")[0];
            var i=table.rows.length - 1
            console.log(i)
            while (i>=1){
              table.deleteRow(i)
              i-=1
            }
            console.log(response)
            for(i=0;i<response.length;i++){
              var newRow = table.insertRow(table.rows.length / 2 + 1);
              // 
              var cel1 = newRow.insertCell(0);
              var cel2 = newRow.insertCell(1);
              var cel3 = newRow.insertCell(2);
              var cel4 = newRow.insertCell(3);
              cel1.innerHTML = response[i].course;
              cel2.innerHTML = response[i].prof
              cel3.innerHTML = response[i].is_completed
              cel4.innerHTML = `<button>Enrolled</button>`
            }
          })
        }
        loadCourse()
  </script>
{% endblock content %}
